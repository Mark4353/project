{"mappings":"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","sources":["<anon>","src/index.js","src/api.js","src/posts.js"],"sourcesContent":["const $96e14f2a7c3555e4$var$API_URL = \"https://682364aa65ba058033969579.mockapi.io/api\";\nasync function $96e14f2a7c3555e4$export$3790dc04c854c4c9() {\n    try {\n        const res = await fetch(`${$96e14f2a7c3555e4$var$API_URL}?embed=comments`);\n        return await res.json();\n    } catch (error) {\n        console.error(\"\\u041F\\u043E\\u043C\\u0438\\u043B\\u043A\\u0430 \\u0437\\u0430\\u0432\\u0430\\u043D\\u0442\\u0430\\u0436\\u0435\\u043D\\u043D\\u044F \\u043F\\u043E\\u0441\\u0442\\u0456\\u0432:\", error);\n        return [];\n    }\n}\nasync function $96e14f2a7c3555e4$export$e1bef8d96c7ba086(title, content) {\n    try {\n        await fetch($96e14f2a7c3555e4$var$API_URL, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                title: title,\n                content: content,\n                comments: []\n            })\n        });\n    } catch (error) {\n        console.error(\"\\u041F\\u043E\\u043C\\u0438\\u043B\\u043A\\u0430 \\u0441\\u0442\\u0432\\u043E\\u0440\\u0435\\u043D\\u043D\\u044F \\u043F\\u043E\\u0441\\u0442\\u0430:\", error);\n    }\n}\nasync function $96e14f2a7c3555e4$export$431458ae9af46678(id, title, content) {\n    try {\n        await fetch(`${$96e14f2a7c3555e4$var$API_URL}/${id}`, {\n            method: \"PUT\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                title: title,\n                content: content\n            })\n        });\n    } catch (error) {\n        console.error(\"\\u041F\\u043E\\u043C\\u0438\\u043B\\u043A\\u0430 \\u043E\\u043D\\u043E\\u0432\\u043B\\u0435\\u043D\\u043D\\u044F \\u043F\\u043E\\u0441\\u0442\\u0430:\", error);\n    }\n}\nasync function $96e14f2a7c3555e4$export$6ca2c30598d1bf61(id) {\n    try {\n        await fetch(`${$96e14f2a7c3555e4$var$API_URL}/${id}`, {\n            method: \"DELETE\"\n        });\n    } catch (error) {\n        console.error(\"\\u041F\\u043E\\u043C\\u0438\\u043B\\u043A\\u0430 \\u0432\\u0438\\u0434\\u0430\\u043B\\u0435\\u043D\\u043D\\u044F \\u043F\\u043E\\u0441\\u0442\\u0430:\", error);\n    }\n}\nasync function $96e14f2a7c3555e4$export$2a15b079e3f46654(postId, comment) {\n    try {\n        const post = await fetch(`${$96e14f2a7c3555e4$var$API_URL}/${postId}`).then((res)=>res.json());\n        post.comments.push(comment);\n        await fetch(`${$96e14f2a7c3555e4$var$API_URL}/${postId}`, {\n            method: \"PUT\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(post)\n        });\n    } catch (error) {\n        console.error(\"\\u041F\\u043E\\u043C\\u0438\\u043B\\u043A\\u0430 \\u0434\\u043E\\u0434\\u0430\\u0432\\u0430\\u043D\\u043D\\u044F \\u043A\\u043E\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u044F:\", error);\n    }\n}\n\n\nfunction $39458377eabf4427$export$c76d3397403fd9a(posts) {\n    console.log(posts);\n    const container = document.getElementById('postsContainer');\n    const templateSource = document.getElementById('post-template').innerHTML;\n    const template = Handlebars.compile(templateSource);\n    const html = template({\n        posts: posts\n    });\n    container.innerHTML = html;\n}\n\n\nconst $35da740d59af89ba$var$createPostForm = document.getElementById(\"createPostForm\");\nconst $35da740d59af89ba$var$postsContainer = document.getElementById(\"postsContainer\");\ncontainer.innerHTML = '';\n$35da740d59af89ba$var$createPostForm.addEventListener(\"submit\", async (e)=>{\n    e.preventDefault();\n    const title = document.getElementById(\"titleInput\").value;\n    const content = document.getElementById(\"contentInput\").value;\n    await (0, $96e14f2a7c3555e4$export$e1bef8d96c7ba086)(title, content);\n    const posts = await (0, $96e14f2a7c3555e4$export$3790dc04c854c4c9)();\n    (0, $39458377eabf4427$export$c76d3397403fd9a)(posts);\n});\ndocument.addEventListener(\"click\", async (e)=>{\n    if (e.target.classList.contains(\"editPostButton\")) {\n        const id = e.target.dataset.id;\n        const newTitle = prompt(\"\\u041D\\u043E\\u0432\\u0438\\u0439 \\u0437\\u0430\\u0433\\u043E\\u043B\\u043E\\u0432\\u043E\\u043A:\");\n        const newContent = prompt(\"\\u041D\\u043E\\u0432\\u0438\\u0439 \\u0437\\u043C\\u0456\\u0441\\u0442:\");\n        if (newTitle && newContent) {\n            await (0, $96e14f2a7c3555e4$export$431458ae9af46678)(id, newTitle, newContent);\n            const posts = await (0, $96e14f2a7c3555e4$export$3790dc04c854c4c9)();\n            (0, $39458377eabf4427$export$c76d3397403fd9a)(posts);\n        }\n    }\n    if (e.target.classList.contains(\"deletePostButton\")) {\n        const id = e.target.dataset.id;\n        await (0, $96e14f2a7c3555e4$export$6ca2c30598d1bf61)(id);\n        const posts = await (0, $96e14f2a7c3555e4$export$3790dc04c854c4c9)();\n        (0, $39458377eabf4427$export$c76d3397403fd9a)(posts);\n    }\n});\ndocument.addEventListener(\"submit\", async (e)=>{\n    if (e.target.classList.contains(\"createCommentForm\")) {\n        e.preventDefault();\n        const commentInput = e.target.querySelector(\".commentInput\");\n        const postId = e.target.closest(\".post\").dataset.id;\n        const comment = commentInput.value;\n        await (0, $96e14f2a7c3555e4$export$2a15b079e3f46654)(postId, comment);\n        const posts = await (0, $96e14f2a7c3555e4$export$3790dc04c854c4c9)();\n        (0, $39458377eabf4427$export$c76d3397403fd9a)(posts);\n    }\n});\n(async function startApp() {\n    const posts = await (0, $96e14f2a7c3555e4$export$3790dc04c854c4c9)();\n    (0, $39458377eabf4427$export$c76d3397403fd9a)(posts);\n})();\n\n\n//# sourceMappingURL=project.7fd71d69.js.map\n","import {\r\n  getPosts,\r\n  createPost,\r\n  updatePost,\r\n  deletePost,\r\n  createComment,\r\n} from \"./api.js\";\r\nimport { renderPosts } from \"./posts.js\";\r\n\r\nconst createPostForm = document.getElementById(\"createPostForm\");\r\nconst postsContainer = document.getElementById(\"postsContainer\");\r\ncontainer.innerHTML = '';\r\ncreatePostForm.addEventListener(\"submit\", async (e) => {\r\n  e.preventDefault();\r\n  const title = document.getElementById(\"titleInput\").value;\r\n  const content = document.getElementById(\"contentInput\").value;\r\n  await createPost(title, content);\r\n  const posts = await getPosts();\r\n  renderPosts(posts);\r\n});\r\n\r\ndocument.addEventListener(\"click\", async (e) => {\r\n  if (e.target.classList.contains(\"editPostButton\")) {\r\n    const id = e.target.dataset.id;\r\n    const newTitle = prompt(\"Новий заголовок:\");\r\n    const newContent = prompt(\"Новий зміст:\");\r\n    if (newTitle && newContent) {\r\n      await updatePost(id, newTitle, newContent);\r\n      const posts = await getPosts();\r\n      renderPosts(posts);\r\n    }\r\n  }\r\n\r\n  if (e.target.classList.contains(\"deletePostButton\")) {\r\n    const id = e.target.dataset.id;\r\n    await deletePost(id);\r\n    const posts = await getPosts();\r\n    renderPosts(posts);\r\n  }\r\n});\r\n\r\ndocument.addEventListener(\"submit\", async (e) => {\r\n  if (e.target.classList.contains(\"createCommentForm\")) {\r\n    e.preventDefault();\r\n    const commentInput = e.target.querySelector(\".commentInput\");\r\n    const postId = e.target.closest(\".post\").dataset.id;\r\n    const comment = commentInput.value;\r\n    await createComment(postId, comment);\r\n    const posts = await getPosts();\r\n    renderPosts(posts);\r\n  }\r\n});\r\n\r\n(async function startApp() {\r\n  const posts = await getPosts();\r\n  renderPosts(posts);\r\n})();\r\n","const API_URL = \"https://682364aa65ba058033969579.mockapi.io/api\";\r\n\r\nexport async function getPosts() {\r\n  try {\r\n    const res = await fetch(`${API_URL}?embed=comments`);\r\n    return await res.json();\r\n  } catch (error) {\r\n    console.error(\"Помилка завантаження постів:\", error);\r\n    return [];\r\n  }\r\n}\r\n\r\nexport async function createPost(title, content) {\r\n  try {\r\n    await fetch(API_URL, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ title, content, comments: [] }),\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Помилка створення поста:\", error);\r\n  }\r\n}\r\n\r\nexport async function updatePost(id, title, content) {\r\n  try {\r\n    await fetch(`${API_URL}/${id}`, {\r\n      method: \"PUT\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ title, content }),\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Помилка оновлення поста:\", error);\r\n  }\r\n}\r\n\r\nexport async function deletePost(id) {\r\n  try {\r\n    await fetch(`${API_URL}/${id}`, {\r\n      method: \"DELETE\",\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Помилка видалення поста:\", error);\r\n  }\r\n}\r\n\r\nexport async function createComment(postId, comment) {\r\n  try {\r\n    const post = await fetch(`${API_URL}/${postId}`).then((res) => res.json());\r\n    post.comments.push(comment);\r\n    await fetch(`${API_URL}/${postId}`, {\r\n      method: \"PUT\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(post),\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Помилка додавання коментаря:\", error);\r\n  }\r\n}\r\n","export function renderPosts(posts) {\r\n    console.log(posts);\r\n  const container = document.getElementById('postsContainer');\r\n  const templateSource = document.getElementById('post-template').innerHTML;\r\n  const template = Handlebars.compile(templateSource);\r\n  const html = template({ posts });\r\n  container.innerHTML = html;\r\n}\r\n"],"names":["$96e14f2a7c3555e4$var$API_URL","$96e14f2a7c3555e4$export$3790dc04c854c4c9","res","fetch","json","error","console","$96e14f2a7c3555e4$export$e1bef8d96c7ba086","title","content","method","headers","body","JSON","stringify","comments","$96e14f2a7c3555e4$export$431458ae9af46678","id","$96e14f2a7c3555e4$export$6ca2c30598d1bf61","$96e14f2a7c3555e4$export$2a15b079e3f46654","postId","comment","post","then","push","$39458377eabf4427$export$c76d3397403fd9a","posts","log","container","document","getElementById","templateSource","innerHTML","template","Handlebars","compile","$35da740d59af89ba$var$createPostForm","addEventListener","e","preventDefault","value","target","classList","contains","dataset","newTitle","prompt","newContent","commentInput","querySelector","closest"],"version":3,"file":"project.7fd71d69.js.map"}